---
title: "p8105_hw1_ml5018"
author: "Luan Mengxiao"
date: 2023-09-14
output: github_document
---

This is a R Markdown document for homework 1.

# Problem 1

## Load the libraray and dataset for further usage:

```{r setup, include = FALSE}
install.packages("moderndive", repos = "http://cran.us.r-project.org")
install.packages("psych", repos = "http://cran.us.r-project.org")
```

```{r loading}
library(tidyverse)
library(psych)
library(moderndive)
data("early_january_weather")
```

## A short description of the dataset:

This dataset contains hourly meterological data for LGA, JFK and EWR for the month of January 2013. This is a subset of the weather data frame from nycflights13.

The data frame consists of 358 rows representing hourly measurements and 15 variables:

* origin: Weather station. Named origin to facilitate merging with nycflights13::flights data.
* year, month, day, hour: Time of recording.
* temp, dewp:Temperature and dewpoint in F.
* humid: Relative humidity.
* wind_dir, wind_speed, wind_gust: Wind direction (in degrees), speed and gust speed (in mph).
* precip: Precipitation, in inches.
* pressure: Sea level pressure in millibars.
* visib: Visibility in miles.
* time_hour: Date and hour of the recording as a POSIXct date.

## A further examination of the dataset:

The dataset is comprised of `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns.


Some important values are as follows:

```{r description}
describe(data.frame(early_january_weather[1:14]))
```

The mean temperature in the data is `r mean(early_january_weather$temp)` F.

## Scatter plot of temp vs time_hour

Posted below is a scatter plot of temp (y) vs time_hour (x), using humid for color points.

```{r plotting}
ggplot(data = early_january_weather, 
       mapping = aes(x = time_hour, y = temp, color = humid)) + geom_point()
```

It can easily be seen from the plot that despite the fluctuation in the process, the temperature tended to go up as time passed by, and the humidity also went up from 1 January to 15 January.

## Export the plot as pdf file:

```{r output}
ggsave("p8105_hw1_ml5018_plot1.pdf")
```

# Problem 2

## Data frame creation

To create a data frame comprised of:

* a random sample of size 10 from a standard Normal distribution;
* a logical vector indicating whether elements of the sample are greater than 0;
* a character vector of length 10;
* a factor vector of length 10, with 3 different factor “levels”.

```{r data frame}
sample <- c("medicine","nursing","biostatistics","medicine","medicine",
            "biostatistics","nursing","biostatistics","nursing","medicine")
Prob2_df = tibble(
  norm_sample = rnorm(10),
  logic_sample = norm_sample > 0,
  char_sample = sample,
  fact_sample = factor(sample)
)
```

Use the code above to generate a data frame as follow:
`r print(Prob2_df)`

## Calculate the mean of each variable

Directly utilize `mean` function to calculate the mean of the variables in the data frame:

```{r direct mean, error = TRUE}
mean(Prob2_df)
```

The warning information suggested that the mean value of char_sample and fact_sample could not be obtained since these two variables are neither numeric nor logical.

To avoid such problem, calculate only the mean of numeric and logical variables in the data frame, using `pull` function to achieve this goal.

The library `tidyverse`, which contains the `pull` function to be used, has already been loaded in Problem 1.

The mean value of norm_sample is `r mean(Prob2_df %>% pull(1))`

The mean value of logic_sample is `r mean(Prob2_df %>% pull(2))`



